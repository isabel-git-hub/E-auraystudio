<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>페인트 목록</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        table, th, td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #5cb85c;
            color: white;
        }
        .delete-btn {
            background-color: red;
            color: white;
            border: none;
            cursor: pointer;
        }
        .category-filter.active {
            font-weight: bold;
            color: red;
        }
    </style>
</head>
<body>
    <header>
        <h1>Auray Studio</h1>
        <nav>
            <a href="/product/paint">Auray</a>
        </nav>
    </header>
    <!-- 카테고리 필터 -->
    <!-- <div class="filter">
        <div class="category">
            <p>카테고리 &nbsp;&nbsp;&nbsp; 
                <span class="category-filter" data-category="Paint">페인트</span> | 
                <span class="category-filter" data-category="Waterproof">방수페인트</span> | 
                <span class="category-filter" data-category="Primer">프라이머</span> |
                <span class="category-filter" data-category="Epoxy">에폭시</span> | 
                <span class="category-filter" data-category="Thinner">신나</span> | 
                <span class="category-filter" data-category="Elastic">탄성코트</span>
            </p>
        </div>
    </div> -->
    <h2>새 물건 등록</h2>
    <form action="/product/paint/add" method="post" enctype="multipart/form-data">
        <label for="y_no">제품 번호:</label>
        <input type="text" id="y_no" name="y_no" required><br><br>
        <label for="p_name">제품명:</label>
        <input type="text" id="p_name" name="p_name" required><br><br>
        <label for="pro_kind">종류:</label>
        <input type="text" id="pro_kind" name="pro_kind" required><br><br>
        <label for="y_img">이미지 파일:</label>
        <input type="file" id="y_img" name="file" accept="image/*" required><br><br>
        <input type="submit" value="등록">
    </form>
    <h1>페인트 목록</h1>
    <table>
        <thead>
            <tr>
                <th>제품명</th>
                <th>제품 번호</th>
                <th>종류</th>
                <th>이미지</th>
                <th>삭제</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="paint : ${paints}" class="product-item" th:data-kind="${paint.pro_kind}">
                <td th:text="${paint.p_name}">제품명</td>
                <td th:text="${paint.y_no}">제품 번호</td>
                <td th:text="${paint.pro_kind}">종류</td> <!-- pro_kind 필드 사용 -->
                <td><img th:src="@{'/downloadImg/' + ${paint.y_no}}" alt="제품 이미지" style="width: 100px;"></td>
                <td><a th:href="@{'/product/paint/delete/' + ${paint.y_no}}" class="delete-btn">삭제</a></td>
            </tr>
        </tbody>
    </table>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        let selectedCategory = null;

        const filterProducts = () => {
            const products = document.querySelectorAll('.product-item');
            products.forEach(product => {
                // 제품의 종류로 카테고리 매핑
                const kind = product.getAttribute('data-kind');
                let category = '';

                if (kind.includes('페인트')) {
                    category = 'Paint';
                } else if (kind.includes('방수페인트')) {
                    category = 'Waterproof';
                } else if (kind.includes('프라이머')) {
                    category = 'Primer';
                } else if (kind.includes('에폭시')) {
                	category = 'Epoxy';
                } else if (kind.includes('신나')) {
                	category = 'Thinner';
                } else if (kind.includes('탄성코트')) {
                	category = 'Elastic';
                }

                // 필터링 로직
                if (!selectedCategory || category === selectedCategory) {
                    product.style.display = '';
                } else {
                    product.style.display = 'none';
                }
            });
        };

        // 카테고리 클릭 이벤트
        const categoryFilters = document.querySelectorAll('.category-filter');
        categoryFilters.forEach(filter => {
            filter.addEventListener('click', function() {
                selectedCategory = this.getAttribute('data-category');
                categoryFilters.forEach(f => f.classList.remove('active'));
                this.classList.add('active');
                filterProducts();
            });
        });
    });
    </script>
</body>
</html>
